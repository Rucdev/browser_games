# 横スクロールアクションゲーム仕様書

## ゲーム概要
- **タイトル**: （仮）横スクロールアクション
- **ジャンル**: 2Dアクションゲーム
- **プラットフォーム**: Webブラウザ（HTML5 Canvas）
- **画面サイズ**: 800px × 500px

## ゲームの基本コンセプト
- **世界観**: 現代風
- **目的**: ゴールに到達すること
- **ゲームタイプ**: ステージクリア型

## プレイヤーキャラクター
### 基本動作
- **移動**: 常に右方向に走っている（自動）
- **ジャンプ**: スペースキーで上方向にジャンプ
- **攻撃**: Jキーでその場で剣を振るアクション
- **回避**: Kキーで前方へ瞬間移動（一定時間無敵）

### HPシステム
- **Easy**: 5HP
- **Normal**: 3HP
- **Hard**: 1HP

### 操作方法
- **ジャンプ**: スペースキー
- **攻撃**: Jキー
- **回避**: Kキー
- **同時押し**: 可能

## 敵キャラクター
### 1. 歩行敵
- **動作**: 地面を一定速度で移動
- **倒し方**: 攻撃で倒せる

### 2. 飛行敵
- **動作**: 空中を一定速度で移動
- **倒し方**: 攻撃で倒せる

### 3. 地中敵
- **動作**:
  - 初期状態：地上にいる
  - プレイヤー発見：地中に潜る（この間は接触判定なし）
  - プレイヤーとの距離が一定以下：地上に出現（攻撃判定あり）
- **倒し方**: 攻撃で倒せる

## 障害物
- **穴**: 落ちるとゲームオーバー
- **棘**: 接触するとダメージ

## ステージ構成
- **ステージ数**: 3ステージ（難易度別）
- **ステージ長**: 画面5個分（4000px）
- **背景**: パララックススクロール対応

### 難易度別設定
- **Easy**: HP5、敵・障害物の配置は簡単
- **Normal**: HP3、敵・障害物の配置は標準
- **Hard**: HP1、敵・障害物の配置は困難

## スコアシステム
- **敵撃破**: 1体につき100ポイント
- **HP残量ボーナス**: 減った分1つにつき200ポイント
- **計算例**: 敵10体撃破、HP2残り（3から1減少）の場合
  - 敵撃破: 10 × 100 = 1000ポイント
  - HPボーナス: 1 × 200 = 200ポイント
  - 合計: 1200ポイント

## ゲームフロー
1. **タイトル画面**
2. **難易度選択画面** (Easy/Normal/Hard)
3. **ステージ選択画面** (Stage 1/2/3)
4. **ゲーム画面**
5. **リザルト画面** (スコア表示)
6. **ステージ選択画面に戻る**

## ゲームオーバー条件
- 穴に落ちる
- HPが0になる

## UI配置
- **位置**: 画面左上
- **表示項目**:
  - 現在HP
  - 現在スコア

## グラフィック仕様
- **キャラクター**: 画像ファイルを読み込み、少し凝った見た目
- **背景**: 画像ファイルでパララックススクロール
- **エフェクト**: 攻撃時の剣の軌跡、回避時の残像等

## 技術仕様
- **描画**: HTML5 Canvas
- **ファイル構成**: Canvas用のHTML、ゲームロジックはTypeScript群をトランスパイルして組み込む
- **画像読み込み**: 必要な画像素材はスプライトシートの形式にする
- **効果音**: なし

## 開発優先度
1. **Phase 1**: 基本的な移動・ジャンプ・攻撃システム
2. **Phase 2**: 敵の実装・衝突判定
3. **Phase 3**: ステージ・障害物の実装
4. **Phase 4**: UI・スコアシステム
5. **Phase 5**: 画面遷移・ゲームフロー
6. **Phase 6**: グラフィック・エフェクトの実装